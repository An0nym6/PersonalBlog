angular.module("admin",["ngMaterial"]).controller("adminController",["$http","$mdDialog",function(t,e){var o,n;o=function(t,o){e.show(e.alert().parent(angular.element(document.querySelector("#mainBody"))).clickOutsideToClose(!0).title("系统提示").textContent(t).ariaLabel("系统提示").ok("知道了！").targetEvent(o))},n=this,t({method:"GET",url:"/blog"}).then(function(t){n.blog=t.data},function(t){console.log(t)}),this.submitEssay=function(e){t({method:"POST",url:"/addEssay",data:{title:addEssay.essayTitle.value,details:addEssay.essayDetails.value,content:addEssay.essayContent.value}}).then(function(t){"success"===t.data?o("博文已成功发布。",e):o("博文发布失败，需要查明原因。",e)},function(t){console.log(t)})},this.deleteEssay=function(e,n){t({method:"POST",url:"/deleteEssay",data:{title:e}}).then(function(t){"success"===t.data?o("博文已被成功删除。",n):o("博文删除失败，需要查明原因。",n)},function(t){console.log(t)})},t({method:"GET",url:"/show"}).then(function(t){n.shows=t.data},function(t){console.log(t)}),this.submitShow=function(e){t({method:"POST",url:"/addShow",data:{imgUrl:addShow.showImage.value,title:addShow.showTitle.value,details:addShow.showDetails.value}}).then(function(t){"success"===t.data?o("创意秀已成功发布。",e):o("创意秀发布失败，需要查明原因。",e)},function(t){console.log(t)})},this.deleteShow=function(e,n){t({method:"POST",url:"/deleteShow",data:{title:e}}).then(function(t){"success"===t.data?o("创意秀已被成功删除。",n):o("创意秀删除失败，需要查明原因。",n)},function(t){console.log(t)})},t({method:"GET",url:"/timeline"}).then(function(t){n.timeline=t.data},function(t){console.log(t)}),this.submitTimePoint=function(e){t({method:"POST",url:"/addTimePoint",data:{icon:addTimePoint.timePointIcon.value,imgUrl:addTimePoint.timePointImage.value,title:addTimePoint.timePointTitle.value,details:addTimePoint.timePointDetails.value,time:addTimePoint.timePointTime.value}}).then(function(t){"success"===t.data?o("时间节点已成功发布。",e):o("时间节点发布失败，需要查明原因。",e)},function(t){console.log(t)})},this.deleteTimePoint=function(e,n){t({method:"POST",url:"/deleteTimePoint",data:{title:e}}).then(function(t){"success"===t.data?o("时间节点已被成功删除。",n):o("时间节点删除失败，需要查明原因。",n)},function(t){console.log(t)})}}]);
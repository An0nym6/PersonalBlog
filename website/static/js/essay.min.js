angular.module("essay",["ngMaterial","hc.marked"]).controller("essayController",["$http","$location","$scope","$cookies",function(e,t,a,n){var o,s,i;e({method:"POST",url:"/essay",data:{title:t.$$path.split("/")[2]}}).then(function(e){a.essay=e.data},function(e){console.log(e)}),o=this,e({method:"POST",url:"/essayComments",data:{title:t.$$path.split("/")[2]}}).then(function(e){o.comments=e.data},function(e){console.log(e)}),e({method:"POST",url:"/essayLikes",data:{title:t.$$path.split("/")[2]}}).then(function(e){o.likes=e.data},function(e){console.log(e)}),a.comment={},a.isKeepName=!1,a.comment.name="",s=n.get("isKeepName"),i=n.get("keepName"),"true"===s&&void 0!==i&&(a.isKeepName=!0,a.comment.name=i),this.submit=function(){var o,s,i;n.put("isKeepName",a.isKeepName),n.put("keepName",a.comment.name),o=this,s=addComment.name.value,a.isKeepName===!1&&(addComment.name.value=""),i=addComment.text.value,addComment.text.value="",e({method:"POST",url:"/addEssayComments",data:{title:t.$$path.split("/")[2],name:s,text:i}}).then(function(e){o.comments=e.data},function(e){console.log(e)})},this.plusOneToLikes=function(){e({method:"POST",url:"/likeAnEssay",data:{title:t.$$path.split("/")[2]}}).then(function(e){o.likes=e.data},function(e){console.log(e)})},this.back=function(){window.history.back()}}]);
angular.module("essay",["ngMaterial","hc.marked"]).controller("essayController",["$http","$location","$scope","$cookies",function(e,t,n,a){var o,m,s;e({method:"POST",url:"/essay",data:{title:t.$$path.split("/")[2]}}).then(function(e){n.essay=e.data},function(e){console.log(e)}),o=this,e({method:"POST",url:"/essayComments",data:{title:t.$$path.split("/")[2]}}).then(function(e){o.comments=e.data},function(e){console.log(e)}),e({method:"POST",url:"/essayLikes",data:{title:t.$$path.split("/")[2]}}).then(function(e){o.likes=e.data},function(e){console.log(e)}),n.comment={},n.isKeepName=!1,n.comment.name="",m=a.get("isKeepName"),s=a.get("keepName"),"true"===m&&void 0!==s&&(n.isKeepName=!0,n.comment.name=s),this.submit=function(){var o,m,s;(o=0===document.getElementById("textError").getElementsByTagName("*").length&&0===document.getElementById("nameError").getElementsByTagName("*").length)&&(a.put("isKeepName",n.isKeepName),a.put("keepName",n.comment.name),o=this,m=addComment.name.value,n.isKeepName===!1&&(addComment.name.value=""),s=addComment.text.value,addComment.text.value="",e({method:"POST",url:"/addEssayComments",data:{title:t.$$path.split("/")[2],name:m,text:s}}).then(function(e){o.comments=e.data},function(e){console.log(e)}))},this.plusOneToLikes=function(){e({method:"POST",url:"/likeAnEssay",data:{title:t.$$path.split("/")[2]}}).then(function(e){o.likes=e.data},function(e){console.log(e)})},this.back=function(){window.history.back()}}]);